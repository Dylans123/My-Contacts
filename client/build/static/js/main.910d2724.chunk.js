(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{38:function(e,t,a){e.exports=a(68)},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(35),c=a.n(l),o=a(8),s=a(9),m=a(11),i=a(10),u=a(6),h=a(12),d=a(18),E=a(69),g=a(70),b=a(71),f=a(72),p=a(73),v=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(i.a)(t).call(this,e))).state={name:""},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props._logout;return r.a.createElement(E.a,{color:"light",light:!0,expand:"md"},r.a.createElement(g.a,{href:"/"},"mycontacts.us"),r.a.createElement(b.a,{className:"mr-auto",navbar:!0},r.a.createElement(f.a,null,r.a.createElement(p.a,{href:"#",onClick:e},"Logout"))))}}]),t}(n.Component),w=a(20),j=a(17),y=a(74),O=a(75),C=a(76),S=a(77),k=a(78),N=a(79),_=a(80),I=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(i.a)(t).call(this,e))).state={email:"",password:"",redirectTo:null},a.onSubmit=a.onSubmit.bind(Object(u.a)(a)),a.handleChange=a.handleChange.bind(Object(u.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(w.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.state,a=t.email,n=t.password,r=this.props._login;console.log("handleSubmit"),r(a,n)}},{key:"render",value:function(){var e=this.state,t=e.redirectTo,a=e.email,n=e.password;return t?r.a.createElement(d.a,{to:{pathname:t}}):r.a.createElement("div",{className:"row justify-content-center align-items-center",style:{height:"100vh"}},r.a.createElement("div",{className:"col-12 col-sm-6"},r.a.createElement(y.a,null,r.a.createElement("h1",{className:"display-3"},"Welcome Back!"),r.a.createElement("p",{className:"lead"},"Fill in your information below to login and view your contacts!"),r.a.createElement("hr",{className:"my-2"}),r.a.createElement(O.a,{onSubmit:this.onSubmit},r.a.createElement(C.a,{row:!0},r.a.createElement(S.a,{for:"userEmail",sm:3},"Email"),r.a.createElement(k.a,{sm:9},r.a.createElement(N.a,{type:"email",name:"email",id:"userEmail",value:a,onChange:this.handleChange}))),r.a.createElement(C.a,{row:!0},r.a.createElement(S.a,{for:"userPassword",sm:3},"Password"),r.a.createElement(k.a,{sm:9},r.a.createElement(N.a,{type:"password",name:"password",id:"userPassword",value:n,onChange:this.handleChange}))),r.a.createElement(_.a,{type:"submit",size:"lg",block:!0},"Login")),r.a.createElement("hr",{className:"my-2"}),r.a.createElement("p",{className:"lead"},"Don't have an account yet? Register for one ",r.a.createElement(j.b,{to:"/register"},"here.")))))}}]),t}(n.Component),L=a(16),P=a.n(L),T=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(i.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t=a.state,n=t.email,r=t.password;P.a.post("/auth/register",{username:n,password:r}).then((function(e){console.log(e),e.data.errmsg?console.log("duplicate"):(console.log("youre good"),a.setState({redirectTo:"/login"}))})),console.log("username: "+n)},a.state={email:"",password:"",confirm:"",redirectTo:null},a.onSubmit=a.onSubmit.bind(Object(u.a)(a)),a.handleChange=a.handleChange.bind(Object(u.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(w.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.confirm,l=e.redirectTo;return l?r.a.createElement(d.a,{to:{pathname:l}}):r.a.createElement("div",{className:"row justify-content-center align-items-center",style:{height:"100vh"}},r.a.createElement("div",{className:"col-12 col-sm-6"},r.a.createElement(y.a,null,r.a.createElement("h1",{className:"display-3"},"Register"),r.a.createElement("p",{className:"lead"},"Create an account below to begin keeping track of contacts!"),r.a.createElement("hr",{className:"my-2"}),r.a.createElement(O.a,{onSubmit:this.onSubmit},r.a.createElement(C.a,{row:!0},r.a.createElement(S.a,{for:"userEmail",sm:3},"Email"),r.a.createElement(k.a,{sm:9},r.a.createElement(N.a,{type:"email",name:"email",id:"userEmail",value:t,onChange:this.handleChange}))),r.a.createElement(C.a,{row:!0},r.a.createElement(S.a,{for:"userPassword",sm:3},"Password"),r.a.createElement(k.a,{sm:9},r.a.createElement(N.a,{type:"password",name:"password",id:"userPassword",value:a,onChange:this.handleChange}))),r.a.createElement(C.a,{row:!0},r.a.createElement(S.a,{for:"userConfirm",sm:3},"Confirm Password"),r.a.createElement(k.a,{sm:9},r.a.createElement(N.a,{type:"password",name:"confirm",id:"userConfirm",value:n,onChange:this.handleChange}))),r.a.createElement(_.a,{type:"submit",size:"lg",block:!0},"Register")),r.a.createElement("hr",{className:"my-2"}),r.a.createElement("p",{className:"lead"},"Already have an account? Login to it ",r.a.createElement(j.b,{to:"/login"},"here.")))))}}]),t}(n.Component),R=a(82),x=a(24),D=a.n(x),F=P.a.create({baseURL:"/api"}),A={createContact:function(e){return F.post("/contacts",e)}},z=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(i.a)(t).call(this,e))).updateName=function(e){var t=e.target.value;a.setState({name:t})},a.handleCreate=function(){var e,t;return D.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=a.state.name,t={name:e},n.next=4,D.a.awrap(A.createContact(t).then((function(e){window.alert("Contact inserted successfully"),a.setState({name:""})})));case 4:case"end":return n.stop()}}))},a.state={name:""},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(O.a,null,r.a.createElement(C.a,{row:!0},r.a.createElement(S.a,{for:"contactFirst",sm:2},"First"),r.a.createElement(k.a,{sm:10},r.a.createElement(N.a,{type:"firstname",name:"firstname",id:"contactFirst",onChange:function(t){return e.updateName(t)}}))),r.a.createElement(C.a,{row:!0},r.a.createElement(S.a,{for:"contactLast",sm:2},"Last"),r.a.createElement(k.a,{sm:10},r.a.createElement(N.a,{type:"lastname",name:"lastname",id:"contactLast"}))),r.a.createElement(C.a,{row:!0},r.a.createElement(S.a,{for:"contactNumber",sm:2},"Phone Number"),r.a.createElement(k.a,{sm:10},r.a.createElement(N.a,{type:"phonenumber",name:"phonenumber",id:"contactNumber"}))),"                    ",r.a.createElement(C.a,{row:!0},r.a.createElement(S.a,{for:"contactEmail",sm:2},"Email"),r.a.createElement(k.a,{sm:10},r.a.createElement(N.a,{type:"email",name:"email",id:"contactEmail"}))),r.a.createElement(C.a,{check:!0,row:!0},r.a.createElement(k.a,{sm:{size:10}},r.a.createElement(_.a,{onClick:function(){return e.handleCreate()}},"Add"))))}}]),t}(n.Component),B=a(81),J=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(i.a)(t).call(this,e))).state={name:""},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(B.a,{hover:!0,borderless:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"First Name"),r.a.createElement("th",null,"Last Name"),r.a.createElement("th",null,"Phone Number"),r.a.createElement("th",null,"Email"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Mark"),r.a.createElement("td",null,"Otto"),r.a.createElement("td",null,"111-1111"),r.a.createElement("td",null,"motto@gmail.com")),r.a.createElement("tr",null,r.a.createElement("td",null,"Jacob"),r.a.createElement("td",null,"Thornton"),r.a.createElement("td",null,"222-2222"),r.a.createElement("td",null,"jthorn@gmail.com")),r.a.createElement("tr",null,r.a.createElement("td",null,"Larry"),r.a.createElement("td",null,"the Bird"),r.a.createElement("td",null,"333-3333"),r.a.createElement("td",null,"thebird@gmail.com")))))}}]),t}(n.Component),M=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(i.a)(t).call(this,e))).state={user:null,loggedIn:!1},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;P.a.get("/auth/user").then((function(t){console.log(t.data),t.data.user?(console.log("THERE IS A USER"),e.setState({loggedIn:!0,user:t.data.user})):(e.setState({loggedIn:!1,user:null}),window.location.href="/login")}))}},{key:"render",value:function(){var e=this.state.user;return console.log(null===e),e?r.a.createElement(R.a,null,r.a.createElement(z,null),r.a.createElement(J,null)):null}}]),t}(n.Component),U=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(i.a)(t).call(this))).state={loggedIn:!1,user:null,redirectTo:null},e._logout=e._logout.bind(Object(u.a)(e)),e._login=e._login.bind(Object(u.a)(e)),e}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;P.a.get("/auth/user").then((function(t){console.log(t.data),t.data.user?(console.log("THERE IS A USER"),e.setState({loggedIn:!0,user:t.data.user})):e.setState({loggedIn:!1,user:null})}))}},{key:"_logout",value:function(e){var t=this;e.preventDefault(),console.log("logging out"),P.a.post("/auth/logout").then((function(e){console.log(e.data),200===e.status&&(t.setState({loggedIn:!1,user:null}),window.location.href="/login")}))}},{key:"_login",value:function(e,t){var a=this;P.a.post("/auth/login",{username:e,password:t}).then((function(e){console.log(e),200===e.status&&(a.setState({loggedIn:!0,user:e.data.user}),window.location.href="/")}))}},{key:"render",value:function(){var e=this,t=this.state.user;return r.a.createElement("div",null,r.a.createElement(v,{_logout:this._logout}),r.a.createElement(d.b,{exact:!0,path:"/",render:function(){return r.a.createElement(M,{user:t})}}),r.a.createElement(d.b,{exact:!0,path:"/login",render:function(){return r.a.createElement(I,{_login:e._login})}}),r.a.createElement(d.b,{exact:!0,path:"/register",render:function(){return r.a.createElement(T,null)}}))}}]),t}(n.Component);a(67);c.a.render(r.a.createElement(j.a,null,r.a.createElement(U,null)),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.910d2724.chunk.js.map